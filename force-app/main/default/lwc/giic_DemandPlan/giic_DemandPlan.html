<template>
    <div class="container slds-is-relative">
        <c-giic_common-search-filter plancycleid={cyclerecid} objectname={cycleobjname} forecast-plan={isForecast} planname={planName} onsearchchange={getSearcHeaderData}></c-giic_common-search-filter>

        <!-- show spinner  -->
        <div if:true={isLoaded} class="slds-spinner_inline spinner-padding">
            <lightning-spinner alternative-text="Loading..." variant="brand" class="slds-show slds-spinner_container"></lightning-spinner>
        </div>

        <div class ="slds-p-top_medium" if:true={showRecordMessage}>
            <div style="text-align:center;width: 300px;margin: 0 auto;border-style: dotted;"><b>No Record Found</b></div>
        </div>

        <!-- show produt table -->
        <template if:true={showProductData}>
            <div class="tablestuff2 table tableallign" style="height: 500px;">
               
                        <table class="slds-table slds-table_cell-buffer slds-table_bordered tableHeader">
                            <!-- slds-table_striped  -->
                            <thead>
                                <tr class="slds-line-height_reset stickytablerow">
                                    <th class="" scope="col" id="th101">
                                        <div class="slds-truncate">Select</div>
                                    </th>
                                    <th class="" scope="col" id="th14">
                                        <div class="slds-truncate" title="Region">Region</div>
                                    </th>
                                    <th class="" scope="col" id="th1">
                                        <div class="slds-truncate" title="Country">Country</div>
                                    </th>
                                    <th class="" scope="col" id="th2">
                                        <div class="slds-truncate" title="Legal Entity">Legal Entity</div>
                                    </th>
                                    <th class="" scope="col" id="th13">
                                        <div class="slds-truncate" title="Warehouse">Warehouse</div>
                                    </th>
                                    <th class="" scope="col" id="th3">
                                        <div class="slds-truncate" title="Account">Account</div>
                                    </th>
                                    <th class="" scope="col" id="th6">
                                        <div class="slds-truncate" title="Other">Other</div>
                                    </th>
                                    <th class="" scope="col" id="th7">
                                        <div class="slds-truncate" title="Product">Product</div>
                                    </th>
                                    <th class="" scope="col" id="th9">
                                        <div class="slds-truncate" title="Total">Total</div>
                                    </th>
                                    <template for:each={forecastData.allMonthsSort} for:item="month">
                                        <th scope="col" key={month}>
                                            <c-giic_forecast-period mapkey={month} mapcollection={forecastData.allPeriodsMap}></c-giic_forecast-period>                               
                                        </th>
                                    </template>
                                    <th class="" scope="col" id="th11">
                                        <div class="slds-truncate" title="Notes">Notes</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody if:true={foreCastLocal}>
                                <template for:each={forecastData.prodWrap} for:item="prod" for:index="indexVar">
                                    <tr key={prod.proForecast.Id}>
                                        <td headers="th1" class="">
                                            <div >
                                                <lightning-input type="checkbox" value={prod.checked} onchange={prodChecked} data-id={prod.productId} data-ware={prod.warehouse} data-forecast={prod.proForecast.Id}></lightning-input>
                                            </div>
                                        </td>
                                        <td headers="th14">
                                            <div style="white-space: pre-wrap !important;width:100px;">
                                                {prod.prodRegion}
                                            </div>
                                        </td>
                                        <td headers="th1" class="">
                                          <div style="white-space: pre-wrap !important;width:100px;">
                                                {prod.country}
                                            </div>
                                        </td>
                                        <td headers="th2">
                                            <div style="white-space: pre-wrap !important;width:100px;">
                                                {prod.legalEntity}
                                            </div>
                                        </td>
                                        <td headers="th13" class="">
                                            <div style="white-space: pre-wrap !important;width:100px;">
                                                {prod.warehouse}
                                            </div>
                                        </td>
                                        <td headers="th3">
                                            <div style="white-space: pre-wrap !important;width:100px;">
                                                {prod.opportunityName}
                                            </div>
                                        </td>
                                        <td headers="th6">
                                            <div class="slds-truncate">
                                                <table cellspacing="0" cellpadding="0" border="0">
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 4px;">Owner: {prod.productOwner}</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 4px;">
                                                            <label for="fname">Forecast Priority: </label>
                                                            <input type="number" name="fname" value={prod.priority} data-indexvar={indexVar} onchange={getForePriority}>        
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 4px;">
                                                            <label for="fname">Purpose Order Priority: </label>
                                                            <input type="number" name="fname" value={prod.purposeOrderPriority} data-indexvar={indexVar} onchange={getPOPriority}>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 4px;">
                                                            <label for="fname">Purpose: </label>
                                                            <input type="text" name="fname" style="width: 191px;height: 50px;" value={prod.productPurpose} data-indexvar={indexVar} onchange={getProdPurpose} maxlength="255">
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 4px;">
                                                            <label for="fname">Opportunity: </label>
                                                            <input type="text" name="fname" style="width: 191px;height: 50px; word-wrap:break-word;" value={prod.oppName} data-indexvar={indexVar} onchange={getOpportunityName}  maxlength="255">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </td>
                                        <td headers="th7" style="width: 200px;">
                                            <div class="slds-truncate">
                                                <table cellspacing="0" cellpadding="0" border="0">
                                                    <tr>
                                                        <td if:true={prod.lstBVUMsgs.length} style="font-size: 14px; border: none; padding-left: 8px;">
                                                            A<button  data-indexvar={indexVar} class="btn" onclick={showBVUList}>*</button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;"><b>{prod.productName}</b></td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;">
                                                            <b>SKU:</b> {prod.productSKU}
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;">Family: {prod.productFamily}</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;">Category: {prod.productCategory}</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;">SubCategory2: {prod.productSubcategory2}</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;">SubCategory1: {prod.productSubcategory1}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </td>
                                        <td headers="th9">
                                            <div class="slds-truncate">
                                                <lightning-formatted-number maximum-fraction-digits="2" style="width: 55px;" type="number" name="input1" value={prod.total} read-only="true" variant="label-hidden"></lightning-formatted-number>
                                            </div>
                                        </td>
                                        <template if:true={restoreVal}>
                                            <template for:each={forecastData.allPeriods} for:item="period" for:index="index">
                                                <td  style="font-size: 10px; min-width:100px;" headers="th11" key={period} class="slds-cell-wrap">
                                                    <c-giic_forecast-period-input
                                                    periodkey={period}
                                                    productdata={prod}
                                                    indexvalue={indexVar}
                                                    allperiodsdisable={forecastData.allPeriodsDisable}
                                                    reportingperiod={forecastData.strReportingPeriod}
                                                    onchild={handleChild}
                                                    zonedata={forecastData.zoneMap}
                                                    readonlydata= {isReadOnly}
                                                    showdemanddata = {demandPlan}
                                                    forecast={searchHeaderData}
                                                    ></c-giic_forecast-period-input>  
                                                </td>
                                            </template>
                                        </template>
                                        <td headers="th11" class="slds-cell-wrap">
                                            <div class="slds-truncate">
                                                <lightning-input type="text" name="input1" value={prod.prodNotes} data-id={indexVar} variant="label-hidden" onchange={getProdNotes}></lightning-input>
                                            </div>
                                        </td>  
                                    </tr>
                                </template>
                            </tbody>
                            <tbody if:true={forecastPlanRegionView}>
                                <template for:each={forecastData.prodWrap} for:item="prod" for:index="indexVar">
                                    <tr key={prod.proForecast.Id}>
                                        <td headers="th1" class="stickytablecolumn">
                                            <div>
                                                <lightning-input read-only="true" type="checkbox" value={prod.checked} onchange={prodChecked} data-id={prod.productId}></lightning-input>
                                            </div>
                                        </td>
                                        <td headers="th14" class="stickytablecolumn">
                                            <div style="white-space: pre-wrap !important;width:100px;">
                                                {prod.prodRegion}
                                            </div>
                                        </td>
                                        <td headers="th1" class="stickytablecolumn">
                                            <div style="white-space: pre-wrap !important;width:100px;">
                                                {prod.country}
                                            </div>
                                        </td>
                                        <td headers="th2">
                                            <div style="white-space: pre-wrap !important;width:100px;">
                                                {prod.legalEntity}
                                            </div>
                                        </td> 
                                        <td headers="th13" class="">
                                            <div style="white-space: pre-wrap !important;width:100px;">
                                                {prod.warehouse}
                                            </div>
                                        </td>
                                        <td headers="th3">
                                            <div style="white-space: pre-wrap !important;width:100px;">
                                                {prod.opportunityName}
                                            </div>
                                        </td>
                                        <td headers="th6">
                                            <div class="slds-truncate">
                                                <table cellspacing="0" cellpadding="0" border="0">
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 4px;">Owner: {prod.productOwner}</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 4px;">
                                                            <label for="fname">Forecast Priority: </label>
                                                            <input type="number" name="fname" value={prod.priority} data-indexvar={indexVar} onchange={getForePriority} readonly>        
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 4px;">
                                                            <label for="fname">Purpose Order Priority: </label>
                                                            <input type="number" name="fname" value={prod.purposeOrderPriority} data-indexvar={indexVar} onchange={getPOPriority} readonly>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 4px;">
                                                            <label for="fname">Purpose: </label>
                                                            <input type="text" name="fname" style="width: 191px;height: 50px;" value={prod.productPurpose} data-indexvar={indexVar} readonly>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 4px;">
                                                            <label for="fname">Opportunity: </label>
                                                            <input type="text" name="fname" style="width: 191px;height: 50px; word-wrap:break-word;" value={prod.oppName} data-indexvar={indexVar} readonly>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </td>
                                        <td headers="th7" style="width: 200px;">
                                            <div class="slds-truncate">
                                                <table cellspacing="0" cellpadding="0" border="0">
                                                    <tr>
                                                        <td if:true={prod.lstBVUMsgs.length} style="font-size: 14px; border: none; padding-left: 8px;">
                                                            A<button  data-indexvar={indexVar} class="btn" onclick={showBVUList}>*</button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;"><b>{prod.productName}</b></td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;">
                                                            <b>SKU:</b> {prod.productSKU}
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;">Family: {prod.productFamily}</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;">Category: {prod.productCategory}</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;">SubCategory2: {prod.productSubcategory2}</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="font-size: 10px; border: none; padding-left: 8px;">SubCategory1: {prod.productSubcategory1}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </td>
                                        <td headers="th9">
                                            <div class="slds-truncate">
                                                <lightning-formatted-number maximum-fraction-digits="2"  style="width: 55px;" type="number" name="input1" value={prod.total} read-only="true" variant="label-hidden"></lightning-formatted-number>
                                            </div>
                                        </td>
                                        <template if:true={restoreVal}>
                                            <template for:each={forecastData.allPeriods} for:item="period" for:index="index">
                                                <td style="font-size: 10px; min-width:100px;" headers="th11" key={period}>
                                                    <c-giic_forecast-period-input
                                                        periodkey={period}
                                                        productdata={prod}
                                                        indexvalue={indexVar}
                                                        allperiodsdisable={forecastData.allPeriodsDisable}
                                                        reportingperiod={forecastData.strReportingPeriod}
                                                        onchild={handleChild}
                                                        zonedata={forecastData.zoneMap}
                                                        readonlydata= {isReadOnly}
                                                        showdemanddata = {demandPlan}
                                                        forecast={searchHeaderData}
                                                    ></c-giic_forecast-period-input>
                                                </td>
                                            </template>
                                        </template>
                                        <td headers="th11">
                                            <div class="slds-truncate">
                                                <lightning-input type="text" name="input1" value={prod.prodNotes} variant="label-hidden" read-only="true"></lightning-input>
                                            </div>
                                        </td>  
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    
                
            </div>
        </template>
        <br />
       
        <div if:true={showButtonGroup} class="slds-align_absolute-center">
            <lightning-button-group >
                <lightning-button if:true={showAllButton} label="Remove Plan" variant="destructive" icon-name="action:remove" onclick={removeProductLine} > </lightning-button> &nbsp;&nbsp;
                <lightning-button if:true={showAllButton} label="Add Forecast" icon-name="utility:add" onclick={navigateToLineStaging}> </lightning-button> &nbsp;&nbsp;
                <lightning-button if:true={showApproveReject} variant="success" label="Approve/Reject" icon-name="action:approval" onclick={appoveForecast}> </lightning-button> &nbsp;&nbsp;
                <lightning-button if:true={showAllButton} label="Save" variant="brand" icon-name="utility:save" onclick={save}></lightning-button> &nbsp;&nbsp;
                <lightning-button if:true={showAllButton} label="Save & Exit" variant="brand" icon-name="utility:save" onclick={saveAndExit}></lightning-button> &nbsp;&nbsp;
                <lightning-button if:true={showSubmitApprovalButton} label="Submit for Approval" variant="success" icon-name="standard:record_create" onclick={submitRecordForApprovalModal} > </lightning-button>&nbsp;&nbsp;
                <lightning-button if:true={showreqForEdit} label="Request for Edit" icon-name="action:edit" onclick={reqForEdit}> </lightning-button> &nbsp;&nbsp;
                <lightning-button if:true={showApproveUpdatePlan} label="Approve/Request for Edit" variant="success" icon-name="action:edit" onclick={approveRejectUpdatePlan}> </lightning-button> &nbsp;&nbsp;
                <lightning-button if:true={showgenerateDO} label="Generate Demand Order" variant="success" icon-name="action:edit" onclick={createDemandOrder}> </lightning-button> &nbsp;&nbsp;
                <lightning-button if:true={showAllButton} label="Generate Demand Plan" variant="success" icon-name="action:edit" onclick={runDemandPlanBatch}> </lightning-button> &nbsp;
                <lightning-button label="Back" icon-name="utility:back" onclick={backToRecord} > </lightning-button>
            </lightning-button-group>
        </div>

        <!-- show approval/show more information-->
        <template if:true={isApprovalShowInformation}>
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true" aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <!-- Modal/Popup Box LWC header here -->
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeApproveModal}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 id="modal-heading-03" class="slds-text-heading_medium slds-hyphenate">Approve/Reject Demand Plan</h2>
                    </header>
                    <!-- Modal/Popup Box LWC body starts here -->
                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-3">
                        <lightning-layout multiple-rows="true" horizontal-align="spread">
                            <lightning-layout-item  padding="around-small">
                                <lightning-tabset>
                                    <lightning-tab label="Approval">
                                        <lightning-layout>
                                            <lightning-layout-item size="9">
                                                <lightning-textarea type="text" label="Additional Comment" value={additionApprovalComment} onchange={getAprovalComment}></lightning-textarea><br/>
                                                <lightning-button label="Approve" variant="success" onclick={approveDemandPlan}> </lightning-button>

                                            </lightning-layout-item>
                                        </lightning-layout>
                                    </lightning-tab>
                                    <lightning-tab label="Rejection">
                                        <lightning-layout>
                                            <lightning-layout-item size="9">
                                                <lightning-textarea type="text" label="Rejection Reason" value={rejectionReason} required="true" onchange={getRejectionReason}></lightning-textarea><br/>
                                                <lightning-button label="Reject" variant="destructive" onclick={rejectDemandPlan}> </lightning-button>
                                            </lightning-layout-item>
                                        </lightning-layout>
                                    </lightning-tab>
                                </lightning-tabset>
                            </lightning-layout-item>
                        </lightning-layout>
                    </div>
                    <!-- Modal/Popup Box LWC footer starts here -->
                    <footer class="slds-modal__footer">
                        <button class="slds-button slds-button_neutral" onclick={closeApproveModal} title="Cancel">Cancel</button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </template>

        <!-- show approval/reject update plan more information-->
        <template if:true={isApprovalRejectRequest}>
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true" aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <!-- Modal/Popup Box LWC header here -->
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeApproveRejectModal}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 id="modal-heading-04" class="slds-text-heading_medium slds-hyphenate">Approve/Reject Request for Demand Plan</h2>
                    </header>
                    <!-- Modal/Popup Box LWC body starts here -->
                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-4">
                        <lightning-layout multiple-rows="true" horizontal-align="spread">
                            <lightning-layout-item  padding="around-small">
                                <lightning-tabset>
                                    <lightning-tab label="Approval">
                                        <lightning-layout>
                                            <lightning-layout-item size="9">
                                                <lightning-textarea type="text" label="Additional Comment" value={additionApprovalComment} onchange={getAprovalComment}></lightning-textarea><br/>
                                                <lightning-button label="Approve" variant="success" onclick={approveUpdateForecastPlan}> </lightning-button>
                                            </lightning-layout-item>
                                        </lightning-layout>
                                    </lightning-tab>
                                    <lightning-tab label="Rejection">
                                        <lightning-layout>
                                            <lightning-layout-item size="9">
                                                <lightning-textarea type="text" label="Rejection Reason" value={rejectionReason} required="true" onchange={getRejectionReason}></lightning-textarea><br/>
                                                <lightning-button label="Reject" variant="destructive" onclick={rejectUpdateForecastPlan}> </lightning-button>
                                            </lightning-layout-item>
                                        </lightning-layout>
                                    </lightning-tab>
                                </lightning-tabset>
                            </lightning-layout-item>
                        </lightning-layout>
                    </div>
                    <!-- Modal/Popup Box LWC footer starts here -->
                    <footer class="slds-modal__footer">
                        <button class="slds-button slds-button_neutral" onclick={closeApproveRejectModal} title="Cancel">Cancel</button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </template>

        <template if:true={showBVURec}>
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true" aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container modalWidth">
                    <!-- Modal/Popup Box LWC header here -->
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeBVUModal}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 id="modal-heading-05" class="slds-text-heading_medium slds-hyphenate">Issues List</h2>
                    </header>
                    <!-- Modal/Popup Box LWC body starts here -->
                    <div class="slds-modal__content slds-p-around_medium tablestuff2 table" id="modal-content-id-5">
                        <table class="slds-table slds-table_cell-buffer slds-table_bordered tableHeader">
                            <!-- slds-table_striped  -->
                            <thead>
                                <tr class="slds-line-height_reset">
                                    <th class="" scope="col" >
                                        <div class="slds-truncate" title="Name">Name</div>
                                    </th>
                                    <th class="" scope="col">
                                        <div class="slds-truncate" title="Message">Message</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <template for:each={BVUList} for:item="bvu" for:index="indexVar">
                                    <tr key={bvu.id}>
                                        <td>
                                            {bvu.giic_Demand_Forecast__r.Name}
                                        </td>
                                        <td>
                                            {bvu.giic_Message__c}
                                        </td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </div>
                    <!-- Modal/Popup Box LWC footer starts here -->
                    <footer class="slds-modal__footer">
                        <button class="slds-button slds-button_neutral" onclick={closeBVUModal} title="Cancel">Cancel</button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </template>

        <!-- Show Submit for approval modal-->
        <template if:true={showsubmit}>
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true" aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <!-- Modal/Popup Box LWC header here -->
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closesubmitapprovalModal}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 id="modal-heading-07" class="slds-text-heading_medium slds-hyphenate">Submit Record</h2>
                    </header>
                    <!-- Modal/Popup Box LWC body starts here -->
                    <div class="slds-modal__content slds-p-around_medium tablestuff2 table" id="modal-content-id-7">
                        <b><center>All Demand related to selected Region will be submit for Approval. Please confirm.</center></b>
                    </div>
                    <!-- Modal/Popup Box LWC footer starts here -->
                    <footer class="slds-modal__footer">
                        <button class="slds-button slds-button_brand" onclick={submitRecordForApproval} title="Yes">Yes</button>
                        <button class="slds-button slds-button_brand" onclick={closesubmitapprovalModal} title="No">No</button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </template>

        <template if:true={isBatchProcessed}>
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <!-- Modal/Popup Box LWC header here -->
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Batch Progress</h2>
                    </header>
        
                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                            <template if:true={isBatchProcessCompleted}>
                                <div>
                                Completed With {failedJobs} Errors..!!
                            </div>
                            </template>
                            <template if:true={isBatchProcessZero}>
                                <div>
                                   There is no records to process.!!
                                </div>
                                </template>
                            <br/>
                          <lightning-progress-bar value={batchProgressPercent} size="large"></lightning-progress-bar>
                        </div>
                    </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open"></div>
        </template>


    </div>
</template>